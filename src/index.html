<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- jquery -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.4/css/jquery.dataTables.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <!-- spinner -->
  <link rel="stylesheet" href="http://css-spinners.com/css/spinner/spinner.css" type="text/css">
  <!--[if lt IE 9]>
    <script>
      (function(){
        var ef = function(){};
        window.console = window.console || {log:ef,warn:ef,error:ef,dir:ef};
      }());
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv-printshiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/es5-shim/3.4.0/es5-sham.js"></script>
  <![endif]-->
</head>
<body>
  <div id="app"></div>
  <script type="text/javascript">
    if(parent != null) {
      //make react devtools work when app is embedded in iframe (as is the case with webpack-dev-server)
      __REACT_DEVTOOLS_GLOBAL_HOOK__ = parent.__REACT_DEVTOOLS_GLOBAL_HOOK__
    }
  </script>
  <script type="text/javascript">
    //external configuration may be available (should be provided by the back end)
    var config = null; //we will set this later, if found
    function getComponentRegistryConfig() {
      return config;
    }

    //try to load the external configuration before starting the app
    $.ajax({
      url: './compRegConfig.jsp',
      dataType: "json",
      success: function(result) {
        config = result;
        console.log(JSON.stringify(config));
      },
      error: function(jqxhr, status, error) {
        console.log("Configuration could not be loaded: " + error);
      },
      complete: function() {
        // load the React main app
        $.getScript('assets/main.js');
      }
    });
  </script>
</body>
</html>
